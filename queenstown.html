<!DOCTYPE html>
<html>
<head>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script type="text/javascript" src="zoom.js"></script>
  <script type="text/javascript" src="transition.js"></script>
  <title>Day1-2 San Francisco to Queenstown via Auckland</title>
  <link rel="stylesheet" type="text/css" href="style_home.css">
  <link rel="stylesheet" type="text/css" href="zoom.css">
</head>
<body>
  <div class="Nav">
    <a href="homepage.html"> Home</a>
    <a href="queenstown.html"> Queesntown</a>
    <a href="queens-to-wanaka.html"> Wanaka</a>
    <a href="wanaka-to-franz-joseph.html"> Franz-Joseph</a>
    <a href="franz-joseph-to-nelson.html"> Nelson</a>
    <a href="nelson-to-wellington.html"> Wellington</a>
    <a href="wellington-to-hamilton.html">Hamilton</a>
    <a href="hamilton-to-auckland.html">Auckland</a>
    <a href="Brisbane.html">Brisbane</a>
    <a href="Cairns.html">Cairns</a>
    <a href="Sydney.html">Sydney</a>
    <a href="Melbourne.html">Melbourne</a>
  </div>
  <h1>San Francisco to Queenstown via Auckland</h1>
  <p>Paragraph about what we did</p>
  <div class='container2'>
    <img id="slide1" src="https://docs.google.com/uc?id=1rdMgvrnuKaEN6PsGg7dGlaHC7C05yYtC" data-action='zoom'>
    <p id='counter'>1 out of 85</p>
    <button id='back'>&#10094;</button>
    <button id='forward'>&#10095;</button>
  </div>
  <div class='container'>
    <iframe id= 'map' src="https://www.google.com/maps/embed?pb=!1m28!1m12!1m3!1d65288108.01050676!2d163.4836012687491!3d-2.853910922567037!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!4m13!3e6!4m5!1s0x808f778c55555555%3A0xa4f25c571acded3f!2sSan+Francisco+International+Airport+(SFO)%2C+San+Francisco%2C+CA+94128!3m2!1d37.6213129!2d-122.3789554!4m5!1s0xa9d51df1d7a8de5f%3A0x500ef868479a600!2sQueenstown%2C+New+Zealand!3m2!1d-45.0311622!2d168.6626435!5e0!3m2!1sen!2sus!4v1518207479852" width="600" height="450" frameborder="0" style="border:0" allowfullscreen></iframe>
    <br>
  </div>
  <!-- <br> -->
  <br>
  <button id='rotateRight'>rotate clockwise</button>
  <button id='rotateLeft'>rotate counterclockwise</button>
  <script type="text/javascript">
    i={count:0, total:0};
    var rot={deg:0};
    function resetRotation(img){
      rot.deg=0;
      $(img).css({
        "-webkit-transform":"rotate("+rot.deg+'deg)',
        "-moz-transform": "rotate("+rot.deg+'deg)',
        "transform": "rotate("+rot.deg+'deg)'
        });
    };
    function advance(lines){  //check if I can add some check for portrate and move forward button accordingly,
      if (i.count>lines.length-1){
        i.count=0;
        $('#slide1').attr('src',lines[i.count]);
      }
      else{
        $('#slide1').attr('src',lines[i.count]);
        i.count++;
        }
      // alert(i.count);
    }
    function back(lines){
      if (i.count<0){
        i.count=lines.length-1;
        $('#slide1').attr('src',lines[i.count]);
      }
      else{
        $('#slide1').attr('src',lines[i.count]);
        i.count--;
      }
      // alert(i.count);
    }
    // $.get('Queenstown.txt', function(data){
    //   var lines=data.split('\n');
    // }
    $('#forward').click(function(){
      $.get('Queenstown.txt', function(data){
        var lines=data.split('\n');
        i.total=lines.length;
        advance(lines);
        // $('p').attr('text',i.count+' out of '+i.total);
        document.getElementById('counter').innerHTML=i.count+' out of '+i.total;
        // alert(i.total);
      },"text");
      resetRotation('#slide1');
      // rot.deg=0;
      // $('#slide1').css({
      //   "-webkit-transform":"rotate("+rot.deg+'deg)',
      //   "-moz-transform": "rotate("+rot.deg+'deg)',
      //   "transform": "rotate("+rot.deg+'deg)'
      //   });
    });
    $('#back').click(function(){
       $.get('Queenstown.txt', function(data){
        var lines=data.split('\n');
        back(lines);
        document.getElementById('counter').innerHTML=(i.count+1)+' out of '+i.total;
      },"text");
       resetRotation('#slide1');
    });
    $('#rotateRight').click(function(){
      if(rot.deg==270){
        rot.deg=0;
      } 
      else{
      rot.deg+=90;
      }
      $('#slide1').css({
        "-webkit-transform":"rotate("+rot.deg+'deg)',
        "-moz-transform": "rotate("+rot.deg+'deg)',
        "transform": "rotate("+rot.deg+'deg)',
        // 'height':'20em',
        // 'width':'auto'
        });
    });
      $('#rotateLeft').click(function(){
      if(rot.deg==-270){
        rot.deg=0;
      } 
      else{
      rot.deg-=90;
      }
      $('#slide1').css({
        "-webkit-transform":"rotate("+rot.deg+'deg)',
        "-moz-transform": "rotate("+rot.deg+'deg)',
        "transform": "rotate("+rot.deg+'deg)'
        });
    });
    // i=0;
    // function forward (i){
    //   $.get('Queenstown.txt', function(data){
    //     var lines=data.split('\n');
    //     console.log(i.count);
    //     if (i.count>lines.length-1) //check this.
    //     {
    //       i.count=0;;
    //       $('#slide1').attr('src',lines[i.count]);
    //     }
    //     else{
    //       $('#slide1').attr('src',lines[i.count]);
    //       i.count++;
    //     }
    //   }, "text");
    // }
    // function advance (){
    //    $.get('Queenstown.txt', function(data){
    //     var lines=data.split('\n');
    //     console.log(i);
    //     if (i>lines.length-1) //check this.
    //     {
    //       i=0;
    //       $('#slide1').attr('src',lines[i]);
    //     }
    //     else{
    //       $('#slide1').attr('src',lines[i]);
    //       i++;
    //     }
    //   }, "text");}
    // $('button').click(getFile());
    // // $('#forward').click(forward(i));
    // $('#forward').click(function(){
    //   $.get('Queenstown.txt', function(data){
    //     var lines=data.split('\n');
    //     console.log(i);
    //     if (i>lines.length-1) //check this.
    //     {
    //       i=0;
    //       $('#slide1').attr('src',lines[i]);
    //     }
    //     else{
    //       $('#slide1').attr('src',lines[i]);
    //       i++;
    //     }
    //   }, "text");
    // });
    // $('#back').click(function(){
    //   $.get('Queenstown.txt', function(data){
    //     var lines=data.split('\n');
    //     console.log(i);
    //     if (i>lines.length-1) //check this.
    //     {
    //       i=0;
    //       $('#slide1').attr('src',lines[i]);
    //     }
    //     else if (i<0)
    //     {
    //       i=lines.length-1;
    //       $('#slide1').attr('src',lines[i]);
    //     }
    //     else{
    //       $('#slide1').attr('src',lines[i]);
    //       i--;
    //     }
    //   }, "text");
    // });
  </script>

</body>
</html>